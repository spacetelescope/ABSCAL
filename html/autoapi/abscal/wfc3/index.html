

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>abscal.wfc3 &mdash; abscal 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/stsci.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/stsci.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="abscal.wfc3.tests" href="tests/index.html" />
    <link rel="prev" title="abscal.tests.test_example" href="../tests/test_example/index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
            <a href="../../../index.html" class="icon icon-home"> abscal
            
            <img src="../../../_static/stsci_pri_combo_mark_white.png" class="logo" />
          </a>

          
            
            
          
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
  
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../installation.html">Installing ABSCAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../using_abscal.html">Using ABSCAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../abscal_handbook.html">ABSCAL Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../abscal_idl_code.html">ABSCAL IDL Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../abscal_testing.html">ABSCAL Testing</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../examples.html">ABSCAL Examples</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../index.html">API Reference</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal</span></code></a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#subpackages">Subpackages</a></li>
</ul>
</li>
</ul>
</li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">abscal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../index.html">API Reference</a> &raquo;</li>
        
          <li><a href="../index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal</span></code></a> &raquo;</li>
        
      <li><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3</span></code></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/autoapi/abscal/wfc3/index.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-abscal.wfc3">
<span id="abscal-wfc3"></span><h1><a class="reference internal" href="#module-abscal.wfc3" title="abscal.wfc3"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3</span></code></a><a class="headerlink" href="#module-abscal.wfc3" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="tests/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.tests</span></code></a></li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="preprocess_table_create/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.preprocess_table_create</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="reduce_grism_coadd/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.reduce_grism_coadd</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="reduce_grism_extract/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.reduce_grism_extract</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="reduce_grism_wavelength/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.reduce_grism_wavelength</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="setup_package/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.setup_package</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="util_filter_locate_image/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.util_filter_locate_image</span></code></a></li>
<li class="toctree-l1"><a class="reference internal" href="util_grism_cross_correlate/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">abscal.wfc3.util_grism_cross_correlate</span></code></a></li>
</ul>
</div>
</div>
<div class="section" id="package-contents">
<h2>Package Contents<a class="headerlink" href="#package-contents" title="Permalink to this headline">¶</a></h2>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h3>
<table class="longtable docutils align-default">
<colgroup>
<col style="width: 10%" />
<col style="width: 90%" />
</colgroup>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="#abscal.wfc3.populate_table" title="abscal.wfc3.populate_table"><code class="xref py py-obj docutils literal notranslate"><span class="pre">populate_table</span></code></a>(data_table=None, overrides={}, **kwargs)</p></td>
<td><p>Search a directory and produce a table of exposures.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#abscal.wfc3.coadd" title="abscal.wfc3.coadd"><code class="xref py py-obj docutils literal notranslate"><span class="pre">coadd</span></code></a>(input_table, arg_list, overrides={})</p></td>
<td><p>Co-adds grism data</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#abscal.wfc3.reduce" title="abscal.wfc3.reduce"><code class="xref py py-obj docutils literal notranslate"><span class="pre">reduce</span></code></a>(input_table, arg_list, overrides={})</p></td>
<td><p>Reduces grism data.</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="#abscal.wfc3.wlmeas" title="abscal.wfc3.wlmeas"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wlmeas</span></code></a>(input_table, arg_list, overrides={})</p></td>
<td><p>Measure planetary nebula emission line locations.</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="#abscal.wfc3.wlmake" title="abscal.wfc3.wlmake"><code class="xref py py-obj docutils literal notranslate"><span class="pre">wlmake</span></code></a>(input_table, wl_table, arg_list, overrides={})</p></td>
<td><p>Derives a grism wavelength fit.</p></td>
</tr>
</tbody>
</table>
<dl class="py function">
<dt class="sig sig-object py" id="abscal.wfc3.populate_table">
<span class="sig-prename descclassname"><span class="pre">abscal.wfc3.</span></span><span class="sig-name descname"><span class="pre">populate_table</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data_table</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#abscal.wfc3.populate_table" title="Permalink to this definition">¶</a></dt>
<dd><p>Search a directory and produce a table of exposures.</p>
<p>Uses glob to search all directories in the table’s <cite>search_dirs</cite> array for
files matching the table’s <cite>search_str</cite> template, and adds rows to the table
containing metadata based on the files that were found.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>data_table</strong> (<a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable"><em>abscal.common.exposure_data_table.AbscalDataTable</em></a><em>, </em><em>default None</em>) – The table (which may contain existing data) to which the new data should
be added.</p></li>
<li><p><strong>kwargs</strong> (<em>dict</em>) – <p>A dictionary of optional keywords. Currently checked keywords are:</p>
<dl class="simple">
<dt>verbose<span class="classifier">bool</span></dt><dd><p>Flag to indicate whether or not the program should print out
informative text whilst running.</p>
</dd>
<dt>compat<span class="classifier">bool</span></dt><dd><p>Whether to operate in strict IDL compatibility mode</p>
</dd>
</dl>
</p></li>
<li><p><strong>data_table is None</strong> (<em>If</em>) – </p></li>
<li><p><strong>new table will be created in the function. In that case</strong> (<em>a</em>) – </p></li>
<li><p><strong>the</strong> – </p></li>
<li><p><strong>dict will be passed to that table</strong> (<em>kwargs</em>) – </p></li>
<li><p><strong>any table-creation keywords will be sent</strong> (<em>so</em>) – </p></li>
<li><p><strong>through.</strong> – </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>data_table</strong> – A table containing an entry for each input file and necessary metadata
obtained from the FITS header of that file.</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable">abscal.common.exposure_data_table.AbscalDataTable</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="abscal.wfc3.coadd">
<span class="sig-prename descclassname"><span class="pre">abscal.wfc3.</span></span><span class="sig-name descname"><span class="pre">coadd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#abscal.wfc3.coadd" title="Permalink to this definition">¶</a></dt>
<dd><p>Co-adds grism data</p>
<p>Takes the input table, and</p>
<ul>
<li><p>filters out the grism exposures, then for each</p>
<blockquote>
<div><ul class="simple">
<li><p>looks for an extracted spectrum</p></li>
<li><p>if none is found, call reduce_grism_extract to make one</p></li>
</ul>
</div></blockquote>
</li>
<li><p>groups the grism exposures by program/visit/grism, then for each group</p>
<blockquote>
<div><ul class="simple">
<li><p>co-adds the spectra in that group</p></li>
<li><p>creates a FITS file (and an ASCII table) for each co-added spectrum</p></li>
</ul>
</div></blockquote>
</li>
<li><p>writes out a new version of the input table with updated values (if any)</p></li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_table</strong> (<a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable"><em>abscal.common.exposure_data_table.AbscalDataTable</em></a>) – The initial table of exposures</p></li>
<li><p><strong>arg_list</strong> (<em>namespace</em>) – The command-line argument values that might affect behaviour</p></li>
<li><p><strong>overrides</strong> (<em>dict</em>) – A dictionary of overrides to the default command-line arguments and to the default
co-add parameters.</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>input_table</strong> – The updated table of exposures</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable">abscal.common.exposure_data_table.AbscalDataTable</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="abscal.wfc3.reduce">
<span class="sig-prename descclassname"><span class="pre">abscal.wfc3.</span></span><span class="sig-name descname"><span class="pre">reduce</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#abscal.wfc3.reduce" title="Permalink to this definition">¶</a></dt>
<dd><p>Reduces grism data.</p>
<p>Takes a table of grism data, and dispatches individual exposures to either the
scan-mode or stare-mode reduction function as appropriate.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_table</strong> (<a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable"><em>abscal.common.exposure_data_table.AbscalDataTable</em></a>) – Table of exposures to be extracted.</p></li>
<li><p><strong>arg_list</strong> (<em>namespace</em>) – Namespace of command-line arguments.</p></li>
<li><p><strong>overrides</strong> (<em>dict</em>) – Dictionary of overrides to the default reduction parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>input_table</strong> – Updated table of exposures</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p><a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable">abscal.common.exposure_data_table.AbscalDataTable</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="abscal.wfc3.wlmeas">
<span class="sig-prename descclassname"><span class="pre">abscal.wfc3.</span></span><span class="sig-name descname"><span class="pre">wlmeas</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#abscal.wfc3.wlmeas" title="Permalink to this definition">¶</a></dt>
<dd><p>Measure planetary nebula emission line locations.</p>
<p>There are six planetary nebula emission lines that fall neatly into the WFC3 grism
spectral orders, and this function uses the approximate wavelength solution to find
the rough location of these lines, and then uses flux-weighting to determine the line
centre. The user is able to override a given fit if the script is run in interactive
mode.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_table</strong> (<a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable"><em>abscal.common.exposure_data_table.AbscalDataTable</em></a>) – Table of exposures with emission lines to fit.</p></li>
<li><p><strong>arg_list</strong> (<em>namespace</em>) – Namespace of command-line arguments.</p></li>
<li><p><strong>overrides</strong> (<em>dict</em>) – Dictionary of overrides to the default reduction parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>output_table</strong> – Table of emission line locations</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astropy.table.Table</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="abscal.wfc3.wlmake">
<span class="sig-prename descclassname"><span class="pre">abscal.wfc3.</span></span><span class="sig-name descname"><span class="pre">wlmake</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">input_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">wl_table</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">arg_list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overrides</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="headerlink" href="#abscal.wfc3.wlmake" title="Permalink to this definition">¶</a></dt>
<dd><p>Derives a grism wavelength fit.</p>
<p>Once planetary nebula emission lines have been located and fit, it is possible to use
them as input in creating a full wavelength fit for the grism detector. ABSCAL fits
the wavelength set with a linear slope and intercept, where both the slope and the
intercept have constant terms, linear terms in X, and linear terms in y.</p>
<p>Once the fit has been calculated, the script prints out fit errors based on the input
exposures, and creates an output table with all of the fit terms. A separate fit is
derived for each order of each grism.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>input_table</strong> (<a class="reference internal" href="../common/exposure_data_table/index.html#abscal.common.exposure_data_table.AbscalDataTable" title="abscal.common.exposure_data_table.AbscalDataTable"><em>abscal.common.exposure_data_table.AbscalDataTable</em></a>) – Table of exposures to be fit.</p></li>
<li><p><strong>wl_table</strong> (<em>astropy.table.Table</em>) – Output of wlmeas.</p></li>
<li><p><strong>arg_list</strong> (<em>namespace</em>) – Namespace of command-line arguments.</p></li>
<li><p><strong>overrides</strong> (<em>dict</em>) – Dictionary of overrides to the default reduction parameters</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p><strong>output_table</strong> – Table of wavelength fit values</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>astropy.table.Table</p>
</dd>
</dl>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="tests/index.html" class="btn btn-neutral float-right" title="abscal.wfc3.tests" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="../tests/test_example/index.html" class="btn btn-neutral float-left" title="abscal.tests.test_example" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Brian York.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>