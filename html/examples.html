

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>ABSCAL Examples &mdash; abscal 1.0 documentation</title>
  

  
  <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/stsci.css" type="text/css" />
  <link rel="stylesheet" href="_static/graphviz.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Reference" href="autoapi/index.html" />
    <link rel="prev" title="ABSCAL WFC3 Test Reports" href="abscal_testing/wfc3.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          
            <a href="index.html" class="icon icon-home"> abscal
            
            <img src="_static/stsci_pri_combo_mark_white.png" class="logo" />
          </a>

          
            
            
          
          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
  
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installing ABSCAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="using_abscal.html">Using ABSCAL</a></li>
<li class="toctree-l1"><a class="reference internal" href="abscal_handbook.html">ABSCAL Handbook</a></li>
<li class="toctree-l1"><a class="reference internal" href="abscal_idl_code.html">ABSCAL IDL Code</a></li>
<li class="toctree-l1"><a class="reference internal" href="abscal_testing.html">ABSCAL Testing</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">ABSCAL Examples</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#extracting-wfc3-grism-spectra-for-a-single-program">Extracting WFC3 GRISM spectra for a single program</a></li>
<li class="toctree-l2"><a class="reference internal" href="#using-planetary-nebulae-to-generate-a-wfc3-grism-wavelength-fit">Using Planetary Nebulae to generate a WFC3 GRISM wavelength fit</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="autoapi/index.html">API Reference</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">abscal</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>ABSCAL Examples</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/examples.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="abscal-examples">
<h1>ABSCAL Examples<a class="headerlink" href="#abscal-examples" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>These examples assume that ABSCAL is installed in the directory $HOME/ABSCAL, and
each one requires a particular set of data files from <a class="reference external" href="https://mast.stsci.edu">MAST</a>. The example starts after
you have downloaded any required files, extracted them into a directory, opened
that directory in your terminal program of choice, and activated the abscal conda
environment.</p>
</div>
<div class="section" id="extracting-wfc3-grism-spectra-for-a-single-program">
<h2>Extracting WFC3 GRISM spectra for a single program<a class="headerlink" href="#extracting-wfc3-grism-spectra-for-a-single-program" title="Permalink to this headline">¶</a></h2>
<p>This example uses WFC3 program 15587, consisting of observations of GD153, and available
from the following
<a class="reference external" href="https://mast.stsci.edu/portal/Mashup/Clients/Mast/Portal.html?searchQuery=%7B%22service%22%3A%22CAOMFILTERED%22%2C%22inputText%22%3A%5B%7B%22paramName%22%3A%22project%22%2C%22niceName%22%3A%22project%22%2C%22values%22%3A%5B%22HST%22%5D%2C%22valString%22%3A%22HST%22%2C%22isDate%22%3Afalse%2C%22separator%22%3A%22%3B%22%2C%22facetType%22%3A%22discrete%22%2C%22displayString%22%3A%22HST%22%7D%2C%7B%22paramName%22%3A%22proposal_id%22%2C%22niceName%22%3A%22proposal_id%22%2C%22values%22%3A%5B%5D%2C%22valString%22%3A%2215587%22%2C%22isDate%22%3Afalse%2C%22freeText%22%3A%2215587%22%2C%22displayString%22%3A%2215587%22%7D%5D%2C%22position%22%3A%22undefined%2C%20undefined%2C%20undefined%22%2C%22paramsService%22%3A%22Mast.Caom.Filtered%22%2C%22title%22%3A%22MAST%3A%20%20Advanced%20Search%203%22%2C%22tooltip%22%3A%22HST%3B%2015587%3B%20%22%2C%22columns%22%3A%22*%22%2C%22columnsConfig%22%3A%22Mast.Caom.Cone%22%7D">MAST query</a>.</p>
<p>The first step is to construct a list of the exposures along with associated metadata. In
order to do this, enter the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wfc3_setup</span> <span class="o">-</span><span class="n">v</span> <span class="s2">&quot;i*flt.fits&quot;</span>
</pre></div>
</div>
<p>The “-v” flag asks for verbose output, and the ‘“i*flt.fits”’ template tells the script to
build its table from all of the WFC3 flt files in the directory. The template is put in
quotes to prevent it from being expanded before being passed to the script.</p>
<p>When run, the script should produce three output files: “dirtemp_all.log” (all files),
“dirtemp_grism.log” (grism files with a single filter file included for each grism
exposure to provide more accurate zeroth order centring), and “dirtemp_filter.log” (all
filter exposures). The key file here is “dirtemp_grism.log”, and the output should look
like <a class="reference download internal" download="" href="_downloads/53785f9eeb3c76b34f7e855357de6838/dirtemp_grism.log"><code class="xref download docutils literal notranslate"><span class="pre">this</span></code></a> (except with the “path”
column replaced by the actual path to the files).</p>
<p>The next and final step is extracting the grism data and co-adding the grism exposures
taken with the same grism. To do this, enter the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wfc3_coadd</span> <span class="o">-</span><span class="n">fvdt</span> <span class="n">dirtemp_grism</span><span class="o">.</span><span class="n">log</span>
</pre></div>
</div>
<p>When run, the script produces a number of extracted spectra (found in the “spec”
directory), and an updated table named “dirirstare.log”. The “-f” option tells the script
to create new output files even if identically-named files already exist, the “-v” option
tells it to run in verbose mode, the “-d” option tells it to double the spectral
resolution when co-adding, and the “-t” mode tells it to display informational plots while
running, and allow the user to choose between options (when applicable). The spec
directory should contain files like <a class="reference download internal" download="" href="_downloads/155a1aba5e575ba515539f67c400dfd5/spec.zip"><code class="xref download docutils literal notranslate"><span class="pre">these</span></code></a>, and
the new output table should look like <a class="reference download internal" download="" href="_downloads/085ca11a0a7ff6788f8d582c4e337312/dirirstare.log"><code class="xref download docutils literal notranslate"><span class="pre">this</span></code></a>.</p>
<p>This completes the example.</p>
</div>
<div class="section" id="using-planetary-nebulae-to-generate-a-wfc3-grism-wavelength-fit">
<h2>Using Planetary Nebulae to generate a WFC3 GRISM wavelength fit<a class="headerlink" href="#using-planetary-nebulae-to-generate-a-wfc3-grism-wavelength-fit" title="Permalink to this headline">¶</a></h2>
<p>This example uses WFC3 program 13582, consisting of observations of IC5117, and available
from the following
<a class="reference external" href="https://mast.stsci.edu/portal/Mashup/Clients/Mast/Portal.html?searchQuery=%7B%22service%22%3A%22CAOMFILTERED%22%2C%22inputText%22%3A%5B%7B%22paramName%22%3A%22project%22%2C%22niceName%22%3A%22project%22%2C%22values%22%3A%5B%22HST%22%5D%2C%22valString%22%3A%22HST%22%2C%22isDate%22%3Afalse%2C%22separator%22%3A%22%3B%22%2C%22facetType%22%3A%22discrete%22%2C%22displayString%22%3A%22HST%22%7D%2C%7B%22paramName%22%3A%22proposal_id%22%2C%22niceName%22%3A%22proposal_id%22%2C%22values%22%3A%5B%5D%2C%22valString%22%3A%2213582%22%2C%22isDate%22%3Afalse%2C%22freeText%22%3A%2213582%22%2C%22displayString%22%3A%2213582%22%7D%5D%2C%22position%22%3A%22undefined%2C%20undefined%2C%20undefined%22%2C%22paramsService%22%3A%22Mast.Caom.Filtered%22%2C%22title%22%3A%22MAST%3A%20%20Advanced%20Search%201%22%2C%22tooltip%22%3A%22HST%3B%2013582%3B%20%22%2C%22columns%22%3A%22*%22%2C%22columnsConfig%22%3A%22Mast.Caom.Cone%22%7D">MAST query</a>.</p>
<p>The first two steps are identical to the above example.
<a class="reference download internal" download="" href="_downloads/42b42a1d297519a1a16fd706275505a8/dirtemp_grism.log"><code class="xref download docutils literal notranslate"><span class="pre">Here</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">example</span> <span class="pre">dirtemp_grism.log</span> <span class="pre">file</span></code></a>,
<a class="reference download internal" download="" href="_downloads/a9d71cd7d5caffb6a32f100686f355bb/dirirstare.log"><code class="xref download docutils literal notranslate"><span class="pre">here</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">example</span> <span class="pre">dirirstare.log</span> <span class="pre">file</span></code></a>, and
<a class="reference download internal" download="" href="_downloads/447c8f59e1bc6f2b15f6c9214690463b/spec.zip"><code class="xref download docutils literal notranslate"><span class="pre">here</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">example</span> <span class="pre">spec</span> <span class="pre">directory</span></code></a>.</p>
<p>After you have run those steps, the next step is to locate the centres of the emission
lines used for wavelength fitting. To do this, enter the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wfc3_wave_find_lines</span> <span class="o">-</span><span class="n">fvt</span> <span class="n">dirirstare</span><span class="o">.</span><span class="n">log</span>
</pre></div>
</div>
<p>When run, the script produces a table named “wlmeastmp.log”. The “-f” option tells the
script to generate output files even if they already exist, the “-v” option tells the
script to generate verbose output, and the “-t” option tells the script to display plots
while running. Assuming that you take the default fit in all cases (except for rejecting
the few cases where a spurious fit is found), the output table should look like
<a class="reference download internal" download="" href="_downloads/fa48297f2ab21e43bedb181656815df5/wlmeastmp.log"><code class="xref download docutils literal notranslate"><span class="pre">this</span></code></a>.</p>
<p>The next and final step is generating a wavelength solution fit over the whole detector.
To do this, enter the command:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wfc3_wave_solve</span> <span class="o">-</span><span class="n">fvt</span> <span class="n">dirirstare</span><span class="o">.</span><span class="n">log</span>
</pre></div>
</div>
<p>When run, the script produces a table named “wlmeastmp_final.log”. The options are the
same as for the previous step. The resulting output table should look like
<a class="reference download internal" download="" href="_downloads/fc4bbf7f38794e34b82ecd3aa21dd4a8/wlmeastmp_final.log"><code class="xref download docutils literal notranslate"><span class="pre">this</span></code></a>.</p>
<p>This completes the example.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="autoapi/index.html" class="btn btn-neutral float-right" title="API Reference" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="abscal_testing/wfc3.html" class="btn btn-neutral float-left" title="ABSCAL WFC3 Test Reports" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Brian York.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>